<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Benz Pizza - Create Account</title>
    <link rel="stylesheet" href="login.css"> <!-- Link to CSS -->

    <script src="https://kit.fontawesome.com/2127b2ef1e.js" crossorigin="anonymous"></script>  <!-- Font Awesome -->

</head>
<body>

    <!-- Navbar Section --> 
    <nav class="navbar">
        <ul class="nav-list">
            
            <li class="logo">
                <a href="Index.html"><span class="logo">BEN'S PIZZA</span></a>
            </li>

            <!-- This list item will hold the user's name -->
            <li class="account" id="userAccount" style="display: none;"></li>
        </ul>

        <!--    Navbar Right Section -->
        <ul class="nav-list navbar-right">

            <li class="account"> 
                <a href="login.html" class="login">
                    <i class="fa-solid fa-right-to-bracket"></i>
                    <span>Login</span>
                </a>
            </li>
            <li class="account">
                <a href="createaccount.html" class="create_account">
                    <i class="fas fa-user-plus"></i>
                    <span>Create Account</span">
                </a>
            </li>

            <li class="cart">
                <a href="cart.html" class="cart-icon">
                    <i class="fa-solid fa-cart-shopping"></i>
                    <span class="cart-counter" id="cartCounter">0</span>
                </a>
            </li>
        </ul>
    </nav>

    <!-- Create Account Form -->
    <div class="form-container" id="create_account_container">
        <form id="createAccountForm">
            <h2>Ben's Pizza - Create Account</h2>
            <div class="input-group">
                <label for="firstName">First Name:</label>
                <input type="text" id="firstName" required>
            </div>
            <div class="input-group">
                <label for="lastName">Last Name:</label>
                <input type="text" id="lastName" required>
            </div>
            <div class="input-group">
                <label for="createEmail">Email:</label>
                <input type="email" id="createEmail" required>
            </div>
            <div class="input-group">
                <label for="createPassword">Set Password:</label>
                <input type="password" id="createPassword" required>
            </div>
            <div class="input-group">
                <label for="confirmPassword">Cofirm Password:</label>
                <input type="password" id="confirmPassword" required>
            </div>
            <div class="input-group">
                <label for="phoneNumber">Phone Number:</label>
                <input type="tel" id="phoneNumber" required>
            </div>
            <div class="input-group">
                <label for="dob">Date of Birth:</label>
                <input type="date" id="dob" required>
            </div>
            <button type="submit" id="createAccountButton">Create Account</button>
            <p>Already have an account? <a href="login.html">Login here</a>.</p>
        </form>
    </div>
    <script>
     
        // Check if the user's first name is stored in localStorage
        var firstName = localStorage.getItem("firstName");
        if (firstName) {
            // Update the navbar with the user's name
            var userAccount = document.getElementById("userAccount");
            userAccount.textContent = "Hi, " + firstName;
            userAccount.style.display = "block"; // Show the user's name in the navbar
        }

        document.addEventListener("DOMContentLoaded", function() {
            document.getElementById("createAccountForm").addEventListener("submit", function(event) {
                event.preventDefault(); // Prevent form submission

                // Get the value of the first name input
                var firstName = document.getElementById("firstName").value; var lastName = document.getElementById("lastName").value;
                var email = document.getElementById("createEmail").value;
                var password = document.getElementById("createPassword").value;
                var confirmPassword = document.getElementById("confirmPassword").value;
                var phoneNumber = document.getElementById("phoneNumber").value;
                var dob = document.getElementById("dob").value;

                // Store the user's first name in localStorage
                localStorage.setItem("firstName", firstName);

                // Update the navbar with the user's name
                var userAccount = document.getElementById("userAccount");
                userAccount.textContent = "Hi, " + firstName;
                userAccount.style.display = "block"; // Show the user's name in the navbar

                // Clear the form inputs
                document.getElementById("firstName").value = "";
                document.getElementById("lastName").value = "";
                document.getElementById("createEmail").value = "";
                document.getElementById("createPassword").value = "";
                document.getElementById("confirmPassword").value = "";
                document.getElementById("phoneNumber").value = "";
                document.getElementById("dob").value = "";
        
            });
        });
    </script>
</body>
</html>